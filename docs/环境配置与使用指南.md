# AutoX 环境配置与运行要求

为了确保 AutoX 能够发挥极致性能（特别是 DD 驱动的硬件级模拟和 TensorRT 的 GPU 加速），系统环境需要满足以下配置要求。

---

## 1. 核心运行要求 (Mandatory)

### 1.1 以管理员权限运行 (Run as Administrator)
*   **操作**：右键点击程序图标或控制台，选择“以管理员身份运行”。
*   **原因**：
    *   **驱动加载**：程序使用的 DD 驱动是内核级虚拟外设驱动。加载其底层 DLL 并与系统驱动通信需要 Windows 的 Ring 0 级权限。
    *   **高优先级调度**：为了保证 < 10ms 的端到端延迟，程序需要申请高优先级 CPU/GPU 调度，这在非管理员模式下会受到系统限制。

### 1.2 关闭“内核隔离 - 内存完整性” (Disable Memory Integrity)
*   **路径**：`Windows 安全中心` -> `设备安全性` -> `内核隔离详细信息` -> `内存完整性`。
*   **操作**：将开关设为“关闭”，并根据系统要求重启电脑。
*   **原因**：
    *   **驱动签名兼容性**：DD 驱动采用的是虚拟硬件模拟技术，其加载机制与 Windows 10/11 引入的 HVCI（基于虚拟化的代码完整性保护）冲突。开启内存完整性会导致驱动 DLL 无法被注入或初始化失败（返回错误码 0）。

---

## 2. 硬件与驱动要求 (Hardware)

### 2.1 NVIDIA 显卡驱动
*   **建议版本**：530.xx 或更高版本。
*   **原因**：
    *   **TensorRT 支持**：最新的 TensorRT 优化引擎需要匹配的 CUDA 运行时环境。
    *   **DDA 采集**：NVIDIA Desktop Duplication API (DDA) 的稳定性和显存同步效率高度依赖显卡驱动。

### 2.2 屏幕显示模式
*   **建议设置**：游戏内设置为“无边框窗口化”或“窗口化”。
*   **原因**：
    *   虽然程序支持 DDA 全屏采集，但在某些受保护的全屏游戏模式下，DDA 可能会被系统强制拦截。窗口化模式能确保“零拷贝”采集路径的 100% 成功率。

---

## 3. 故障排除 (Troubleshooting)

| 现象 | 可能原因 | 解决方法 |
| :--- | :--- | :--- |
| **DD 驱动初始化异常: 0** | 未关闭内存完整性 或 未以管理员运行 | 参见 1.1 和 1.2 节进行设置 |
| **推理速度极慢 (FPS < 10)** | 未加载 .engine 模型 | 检查 models 文件夹，并确保在 UI 中开启了 TensorRT 导出 |
| **预览窗口黑屏** | 游戏为独占全屏 | 将游戏切换为无边框窗口模式 |
| **鼠标移动无反应** | 驱动未成功加载或回退失败 | 检查控制台是否显示 "✅ 已回退到 Win32Input" |

---
*最后更新日期：2026-01-18*
